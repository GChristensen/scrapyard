<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Scrapyard {Setting}</title>
    <link rel="icon" href="icons/scrapyard.svg" type="image/png"/>
    <link rel="stylesheet" type="text/css" href="options.css" media="all"/>
    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="proto.js"></script>
    <script type="module" src="options.js"></script>
</head>
<body>
<div id="div-page">
    <div id="div-form-left">
        <a class="left-index" href="#settings">{Setting}</a>
        <a class="left-index" href="#savesettings">{Save Setting}</a>
        <a class="left-index" href="#cloud">{Cloud}</a>
        <a class="left-index" href="#links">{Check Links}</a>
        <a class="left-index" href="#importrdf">{Import RDF}</a>
        <a class="left-index" href="#helperapp">{Helper App}</a>
        <a class="left-index" href="#help">{User Manual}</a>
        <a class="left-index" href="#about">{About}</a>
    </div>
    <div id="div-placeholder" class="div-area div-area-placeholder"></div>
    <div id="div-settings" class="div-area" style="display:none;">

        <table width="850px" cellspacing="" cellpadding="" border="0" class="form-table">
            <tr>
                <td>Appearance</td>
                <td>
                    <div class="panel" id="display" >
                        <div class="double-container">
                            <div class="double-first">
                                <form>
                                    <fieldset style="border: none;">
                                        <input id="option-show-firefox-bookmarks" type="checkbox"/><label for="option-show-firefox-bookmarks"
                                    >Show Firefox bookmarks shelf</label>
                                        <div style="margin: 0; margin-left: 20px; width: max-content;">
                                            <input id="option-show-firefox-bookmarks-toolbar" type="checkbox"/><label for="option-show-firefox-bookmarks-toolbar"
                                        >Show bookmarks toolbar folder</label><br>
                                            <input id="option-show-firefox-bookmarks-mobile" type="checkbox"/><label for="option-show-firefox-bookmarks-mobile"
                                        >Show mobile bookmarks folder</label>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <div class="double-last">
                                <form>
                                    <fieldset style="border: none;">
                                        <input id="option-capitalize-builtin-shelf-names" type="checkbox"/><label for="option-capitalize-builtin-shelf-names"
                                    >Capitalize builtin shelf names</label><br><br>
                                        <label for="option-sidebar-theme">&nbsp;&nbsp;Sidebar theme:</label>
                                        <select id="option-sidebar-theme" type="select" style="color: black">
                                            <option value="light" selected="selected">Light</option>
                                            <option value="dark">Dark</option>
                                        </select>
                                    </fieldset>
                                </form>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Behavior</td>
                <td>
                    <div class="panel double-container" id="export">
                        <div class="double-first">
                            <form>
                                <fieldset style="border: none;">
                                    <input id="option-switch-to-bookmark" type="checkbox"/><label for="option-switch-to-bookmark"
                                >Automatically switch to newly created bookmarks</label><br>
                                    <input id="option-do-not-switch-to-ff-bookmark" type="checkbox"/><label for="option-do-not-switch-to-ff-bookmark"
                                >Do not switch to new Firefox bookmarks</label>
                                </fieldset>
                            </form>
                        </div>
                        <div class="double-last">
                            <form>
                                <fieldset style="border: none;">
                                    <input id="option-open-bookmark-in-active-tab" type="checkbox"/><label for="option-open-bookmark-in-active-tab"
                                >Left click opens bookmarks in the active tab</label>
                                <i class="help-mark"></i>
                                <span class="tips hide">Do not create new tabs for the opened bookmarks.</span><br>

                                    <input id="option-display-random-bookmark" type="checkbox"/><label for="option-display-random-bookmark"
                                >Display random bookmarks in the sidebar</label>
                                    <i class="help-mark"></i>
                                    <span class="tips hide">Display random bookmarks from your collection in the sidebar footer.</span>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Export</td>
                <td>
                    <div class="panel double-container" id="export">
                        <div class="double-first">
                            <form>
                                <fieldset style="border: none;">
                                    Export format:
                                    <select id="option-export-format" type="select" style="color: black">
                                        <option value="json">JSON</option>
                                        <option value="org">ORG</option>
                                    </select>
                                </fieldset>
                            </form>
                        </div>
                        <div class="double-last">
                            <form>
                                <fieldset style="border: none;">
                                    <input id="option-shallow-export" type="checkbox"/><label for="option-shallow-export">Shallow
                                    export</label>
                                    <i class="help-mark"></i>
                                    <div class="tips hide">Do not export archived content.</div>
                                    <!--input id="option-compress-export" type="checkbox"/><label for="option-compress-export">Compress archived content</label-->
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Helper application</td>
                <td>
                    <div class="panel double-container" id="helper">
                        <div class="double-first">
                            <form>
                                <fieldset style="border: none;">
                                    <label for="option-helper-port">Port number:</label>
                                    <input id="option-helper-port" type="text" maxlength="5" size="6"/>
                                </fieldset>
                            </form>
                        </div>
                        <div class="double-last">
                            <form>
                                <fieldset style="border: none;">
                                    <input id="option-browse-with-helper" type="checkbox"/>
                                    <label for="option-browse-with-helper">Use helper application to browse archives</label>
                                    <i class="help-mark"></i>
                                    <div class="tips hide">Check this only if you need to execute saved scripts and embedded content.<br>
                                    Note that scripts are not saved by default (see page capture settings).</div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><input id="options-save-button" type="button" name="save" value="{Save}" style="float: right;"/>
                </td>
            </tr>
        </table>
    </div>
    <div id="div-savesettings" class="div-area" style="display:none;">

        <table width="800px" cellspacing="" cellpadding="" border="0" class="form-table">
            <tr>
                <td>Capture Options</td>
                <td>
                    <div class="panel" id="savepage" style="display: flex;">
                        <div style="flex: auto;">
                            <form>
                                <fieldset>
                                    <legend>&nbsp;Save Features&nbsp;</legend>
                                    <!--div>
                                        <input id="options-showwarning" type="checkbox"/><label for="options-showwarning">Show warning if any resources cannot be saved</label>
                                    </div>
                                    <div>
                                        <input id="options-showurllist" type="checkbox"/><label for="options-showurllist">Show list of all resources that cannot be saved</label>
                                    </div-->
                                    <div>
                                        <input id="options-retaincrossframes" type="checkbox"/><label
                                        for="options-retaincrossframes">Retain cross-origin frames and iframes</label>
                                    </div>
                                    <div>
                                        <input id="options-removeunsavedurls" type="checkbox"/><label
                                        for="options-removeunsavedurls">Remove URLs of all unsaved resources</label>
                                    </div>
                                    <div>
                                        <input id="options-mergecssimages" type="checkbox"/>
                                        <label for="options-mergecssimages">Merge duplicate CSS images</label>
                                    </div>
                                </fieldset>
                            </form>

                            <form>
                                <fieldset>
                                    <legend>&nbsp;Saved Items&nbsp;</legend>
                                    <div>
                                        <input id="options-savehtmlimagesall" type="checkbox"/><label
                                        for="options-savehtmlimagesall">HTML image files (all)</label>
                                    </div>
                                    <div>
                                        <input id="options-savehtmlaudiovideo" type="checkbox"/><label
                                        for="options-savehtmlaudiovideo">HTML audio & video files</label>
                                    </div>
                                    <div>
                                        <input id="options-savehtmlobjectembed" type="checkbox"/><label
                                        for="options-savehtmlobjectembed">HTML object & embed files</label>
                                    </div>
                                    <div>
                                        <input id="options-savecssimagesall" type="checkbox"/><label
                                        for="options-savecssimagesall">CSS image files (all)</label>
                                    </div>
                                    <div>
                                        <input id="options-savecssfontswoff" type="checkbox"/><label
                                        for="options-savecssfontswoff">CSS font files (woff for any browser)</label>
                                    </div>
                                    <div>
                                        <input id="options-savecssfontsall" type="checkbox"/><label
                                        for="options-savecssfontsall">CSS font files (all)</label>
                                    </div>
                                    <div>
                                        <input id="options-savescripts" type="checkbox"/><label
                                        for="options-savescripts" style="color: #444;">Scripts</label>
                                    </div>
                                    <div>
                                        <input id="options-purgeelements" type="checkbox"/><label
                                        for="options-purgeelements"
                                        style="display:inline-block; vertical-align: middle;">Do not save elements that
                                        have been hidden<br>by the page, page editors or content blockers</label>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                        <div style="flex: auto; margin-left: 20px;">
                            <form>
                                <fieldset>
                                    <legend>&nbsp;Limits&nbsp;</legend>
                                    <div>
                                        <input id="options-maxframedepth" type="number" min="0" max="10"
                                               value="0"/><label for="options-maxframedepth">Maximum depth of saved
                                        nested frames</label>
                                    </div>
                                    <div>
                                        <input id="options-maxresourcesize" type="number" min="1" max="100" value="50"/><label
                                        for="options-maxresourcesize">Maximum size allowed for a resource (MB)</label>
                                    </div>
                                    <div>
                                        <input id="options-maxresourcetime" type="number" min="5" max="60"
                                               value="30"/><label for="options-maxresourcetime">Maximum time for loading
                                        a resource (secs)</label>
                                    </div>
                                </fieldset>
                            </form>

                            <form>
                                <fieldset>
                                    <legend>&nbsp;Mixed Content&nbsp;</legend>
                                    <div>
                                        <input id="options-allowpassive" type="checkbox"/><label
                                        for="options-allowpassive">Allow passive mixed content (image, audio,
                                        video)</label>
                                    </div>
                                </fieldset>
                            </form>

                            <form id="options-refererheader">
                                <fieldset>
                                    <legend>&nbsp;Referer Header&nbsp;</legend>
                                    <div>
                                        <label>When requesting a resource:</label>
                                    </div>
                                    <div>
                                        <input id="options-noreferer" type="radio" name="header" value="0"/><label
                                        for="options-noreferer">Do not send referer header</label>
                                    </div>
                                    <div>
                                        <input id="options-originonly" type="radio" name="header" value="1"/><label
                                        for="options-originonly">Send referer header with origin only</label>
                                    </div>
                                    <div>
                                        <input id="options-originpath" type="radio" name="header" value="2"/><label
                                        for="options-originpath">Send referer header with origin and path</label>
                                    </div>
                                </fieldset>
                            </form>

                            <form>
                                <fieldset>
                                    <legend>&nbsp;Lazy Loading&nbsp;</legend>
                                    <div>
                                        <input id="options-forcelazyloads" type="checkbox"/><label
                                        for="options-forcelazyloads">Scroll down page to force lazy loads before
                                        saving</label>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td><input id="options-save2-button" type="button" name="save" value="{Save}" style="float: right;"/>
                </td>
            </tr>
        </table>
    </div>
    <div id="div-cloud" class="div-area" style="display:none;">

        <table width="800px" cellspacing="" cellpadding="" border="0" class="form-table">
            <tr>
                <td style="width: 98px">Status</td>
                <td>
                    <div class="panel double-container">
                        <div class="double-first">
                            <form>
                                <fieldset style="border: none; display: flex; align-items: center;">
                                    <input type="checkbox" id="option-enable-cloud"><label for="option-enable-cloud">Enable cloud</label>
                                </fieldset>
                            </form>
                        </div>
                        <div class="double-last">
                            <form>
                                <fieldset style="border: none; display: flex; align-items: center;">
                                    <input type="checkbox" id="option-cloud-background-sync"><label for="option-cloud-background-sync">Enable background synchronization</label>
                                    <i class="help-mark"></i>
                                    <span class="tips hide">May consume system resources.</span>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Providers</td>
                <td>
                    <div class="panel" style="">
                        <form>
                            <fieldset style="border: none; display: flex; align-items: center;">
                                <!--input type="radio" id="provider-dropbox" checked><label for="provider-dropbox"-->
                                <a href="http://dropbox.com" target="_blank">Dropbox</a>&nbsp;<!--/label-->
                                <span> (may be a subject of <a href="https://help.dropbox.com/accounts-billing/settings-sign-in/computer-limit" target="_blank"
                                >certain limitations</a>)</span>
                                <input type="button" class="blue-button" id="auth-dropbox" value="Sign in" style="margin-left: 10px;">
                            </fieldset>
                        </form>
                    </div>
                </td>
            </tr>
            <tr>
                <td>Platforms</td>
                <td>
                    <div class="panel">
                       <div style="display: flex; white-space: normal;">
                           <p style="display: inline-block; flex: 0 1 auto;">
                               <a href="https://scrapyard.page.link/android" target="_blank">Scrapyard application for Android</a> allows to share links and content to the Cloud shelf from mobile devices.
                           </p>
                           <img src="images/android_qrcode.png" style="float: right;">
                       </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="div-help" class="div-area" style="display:none;"></div>
    <div id="div-links" class="div-area" style="display:none;">
        <div id="check-links">
            <h2>Automatic Link Validation</h2>
            <div id="link-check-options" class="link-info">
                Scope:
                <select id="link-scope">
                    <option>everything</option>
                </select>
                <label for="link-check-timeout">Timeout (sec.):</label>
                <input id="link-check-timeout" type="number" min="1" value="10"/>
                <input type="checkbox" id="update-icons"><label for="update-icons">Update icons</label>
                <input type="button" class="blue-button" id="start-check-links" value="Check">
            </div>
            <div id="current-link" class="link-info">
                <div>Checking: </div>
                <div><span id="current-link-title"></span><br><span id="current-link-url"></span></div>
            </div>
            <div id="invalid-links-container" class="link-info">
                Broken links:
                <table id="invalid-links">
                </table>
            </div>
        </div>
    </div>
    <div id="div-importrdf" class="div-area" style="display:none;">
        <div id="importrdf">
            <h2>Import Scrapbook Files</h2>
            <div id="rdf-import-options">
                <div style="width: max-content">
                    <table cellspacing="" cellpadding="" border="0" style="margin-bottom: 5px;">
                        <tr>
                            <td>Shelf name:</td>
                            <td><input id="rdf-shelf-name" type="text" size="60" value="Imported RDF"/></td>
                        </tr>
                        <tr>
                            <td>Path to the RDF file:&nbsp;&nbsp;</td>
                            <td>
                                <input id="rdf-import-path" type="text" size="60" value=""/>
                                <i class="help-mark"></i>
                                <span class="tips hide">For example: <b>C:/notes/scrapbook.rdf</b></span>
                            </td>
                        </tr>
                        <tr>
                            <td>Processing threads:</td>
                            <td style="display: flex"><input id="rdf-import-threads" type="number" min="1" value="5"/>
                                <div id="rdf-import-quick-div"><input id="rdf-import-quick" type="checkbox" checked/><label for="rdf-import-quick"
                                                            >Quick import</label>
                                    <i class="help-mark"></i>
                                    <span class="tips hide">Leave archived files on disk.</span>
                                </div-->
                            </td>
                        </tr>
                        <tr>
                            <td>Status:&nbsp;&nbsp;</td>
                            <td id="rdf-progress-row">ready</td>
                        </tr>
                    </table>
                    <input type="button" class="blue-button" id="start-rdf-import" value="Import">
                </div>
                <br>
                <p>Scrapyard <a href="#helperapp">helper application</a> is required for RDF import.</p>

            </div>
            <div id="invalid-imports-container" class="rdf-link-info">
                Failed imports (try to copy links into the URL-bar and capture them manually):
                <table id="invalid-imports">
                </table>
            </div>
        </div>
    </div>
    <div id="div-helperapp" class="div-area" style="display:none;">
        <div style="max-width: 800px; font-size: 110%;">
        <h2>Scrapyard Helper Application</h2>
        <p>Scrapyard helper application allows to transcend the limits of Firefox WebExtensions by providing several features that
        are otherwise impossible:</p>
        <ul>
            <li>Run scripts and display embedded objects at the saved pages.</li>
            <li>Import and browse Scrapbook RDF archives from any filesystem location.</li>
            <li>Export the amount of content that surpasses the size of available RAM.</li>
        </ul>

        <p>On Windows the helper application could be installed automatically, without the need of any configuration. It could also be installed
            manually on any system that supports Python 3.6+ (you may need to consult
            <a href="https://wiki.mozilla.org/WebExtensions/Native_Messaging#Host_Manifests" target="_blank">Mozilla Wiki</a>
            for more details).</p>

            <h3>Downloads</h3>
            <ul>
                <li style="padding-bottom: 5px"><a id="helper-windows-inst" href="#helperapp">Automated Windows installer</a></li>
                <li><a id="helper-manual-inst" href="#helperapp">Archive for manual installation</a></li>
            </ul>

            <p>It is necessary to restart Firefox after the application has been installed.</p>
        </div>
    </div>
    <div id="div-about" class="div-area" style="display:none;">
        <div style="width: 100%;">
            <div style="text-align: center">
                <img src="icons/scrapyard.svg" width="150px" height="150px"/>
                <h1 style="font-size: 24pt; margin: 10px">Scrapyard</h1>
                <h2 id="about-version">Version: </h2>
                <div class="about-links">
                    <img width="16px" height="16px" src="icons/scrapyard.svg"/>
                    <a class="about-link" href="https://gchristensen.github.io/scrapyard/" target="_blank">Homepage</a>
                    | <img width="16px" height="16px" src="icons/amo.ico"/>
                      <a class="about-link" href="https://addons.mozilla.org/en-US/firefox/addon/scrapyard/" target="_blank">AMO</a>
                    | <img width="16px" height="16px" src="icons/github.ico"/>
                      <a class="about-link" href="https://github.com/GChristensen/scrapyard/" target="_blank">GitHub</a>
                </div>
                <div class="about-links" style="margin-top: 20px;">
                    <img width="16px" height="16px" src="icons/patreon.png"/>
                    <a class="about-link" href="https://patreon.com/gchristnsn" target="_blank">Donate</a>
                </div>

                <div class="panel" id="about-db-path-panel">
                    <p id="about-addon-db-path-title">Addon Database Path <i class="help-mark"></i>
                        <span class="tips hide" style="font-weight: normal">Please do not modify, delete or create any additional files in this directory!</span></p>
                    <input id="about-addon-db-path-input" type="text" disabled/>
                    <img id="about-db-path-copy-button" width="16px" height="16px" src="icons/copy.svg" title="Copy"/>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>
